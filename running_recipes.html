

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Running dvas recipes &mdash; dvas  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Creating dvas recipes" href="creating_recipes.html" />
    <link rel="prev" title="Installation" href="installation.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> dvas
          

          
          </a>

          
            
            
              <div class="version">
                0.2.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Table of contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Running dvas recipes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#anatomy-of-a-dvas-processing-arena">Anatomy of a dvas processing arena</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#the-data-folder">The data folder</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-config-folder">The config folder</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-recipe-core-script">The recipe core script</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#specifc-recipes">Specifc recipes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#demo">demo</a></li>
<li class="toctree-l3"><a class="reference internal" href="#uaii22">uaii22</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="creating_recipes.html">Creating dvas recipes</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="acknowledge.html">Acknowledging dvas</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License &amp; Copyright</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/MeteoSwiss-MDA/dvas/blob/develop/CONTRIBUTING.md">Contributing</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/MeteoSwiss-MDA/dvas">Github repository</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="doc_todo.html">Documentation todos</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">dvas</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Running dvas recipes</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/running_recipes.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="running-dvas-recipes">
<span id="running"></span><h1>Running dvas recipes<a class="headerlink" href="#running-dvas-recipes" title="Permalink to this headline">¶</a></h1>
<p>dvas recipes can be seen as pre-packaged, pre-configured analysis pipelines, designed to perform
<strong>specific tasks in a specific order</strong>. Their primary purpose is to allow any official dvas analysis
to be reproduced by anyone anywhere for any comaptible dataset.</p>
<p>As an example, we will use the case of the UAII 2022 campaign, for which a dedicated dvas recipe was
created. With dvas <a class="reference internal" href="installation.html#install"><span class="std std-ref">installed</span></a>, follow these 2 steps to reproduce the entire
UAII 2022 analysis cascade:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Initialize a new dvas <em>processing arena</em>. In a terminal, in a location of your choice, type:</p></li>
</ol>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>dvas_init uaii22
</pre></div>
</div>
<p>This will create a new folder <code class="docutils literal notranslate"><span class="pre">dvas_uaii22_arena</span></code>.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>You can see all the available recipes using <code class="docutils literal notranslate"><span class="pre">dvas_init</span> <span class="pre">--help</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>usage: dvas_init [-h] [-ap ./a/new/folder/] {demo,uaii22}

DVAS 0.2.0 - Data Visualization and Analysis Software: Initialization function.

positional arguments:
  {demo,uaii22}         The processing recipe to initialize.

optional arguments:
  -h, --help            show this help message and exit
  -ap ./a/new/folder/, --arena_path ./a/new/folder/
                        Relative path &amp; name for the new processing arena.

For more info: https://MeteoSwiss.github.io/dvas
 
</pre></div>
</div>
</div>
</div></blockquote>
<ol class="arabic" start="2">
<li><p>To run the recipe, simply move into the processing arena, launch an ipython session, and launch
the recipe:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>cd dvas_uaii22_arena
ipython --pylab
In [1]: run main_script.py
</pre></div>
</div>
</li>
</ol>
</div></blockquote>
<p>Launching the <cite>uaii22</cite> recipe was the easy part. But what is actually happening ?  Time to take a
closer look at the …</p>
<div class="section" id="anatomy-of-a-dvas-processing-arena">
<h2>Anatomy of a dvas processing arena<a class="headerlink" href="#anatomy-of-a-dvas-processing-arena" title="Permalink to this headline">¶</a></h2>
<p>There are 3 main components to a dvas processing arena: the
<a class="reference internal" href="#raw-data"><span class="std std-ref">raw data</span></a>,
the <a class="reference internal" href="#config-data"><span class="std std-ref">database config files</span></a>,
and the <a class="reference internal" href="#core-script"><span class="std std-ref">core script</span></a> of the recipe. Let’s take a look at each of these.</p>
<div class="section" id="the-data-folder">
<span id="raw-data"></span><h3>The data folder<a class="headerlink" href="#the-data-folder" title="Permalink to this headline">¶</a></h3>
<p>This folder contains all the raw data to be processed. THe actual structuring of subfolders inside
<cite>./data</cite> does not actually matter to dvas, so feel free to organize your datasets as you please.
Note, however, the following restrictions:</p>
<blockquote>
<div><ul class="simple">
<li><p>for non-GDP radiosondes: a <cite>.yml</cite> text file <strong>with the same name</strong> as the raw data file must be
be specified for all datasets. These <cite>.yml</cite> contain all the metadata not otherwise present in
the raw data files.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="the-config-folder">
<span id="config-data"></span><h3>The config folder<a class="headerlink" href="#the-config-folder" title="Permalink to this headline">¶</a></h3>
<p>This folder contains all the information required to setup the dvas database, and have it ingest all
all the data. Modifying these files is only required if one wishes to include datasets that differ
from those already supported by the recipe.</p>
</div>
<div class="section" id="the-recipe-core-script">
<span id="core-script"></span><h3>The recipe core script<a class="headerlink" href="#the-recipe-core-script" title="Permalink to this headline">¶</a></h3>
<p>This Python script contains the actual processing steps of the recipe. It is build upon high-level
routines and modules from the <code class="docutils literal notranslate"><span class="pre">dvas_recipes</span></code> sub-package, that themselves rely on core <code class="docutils literal notranslate"><span class="pre">dvas</span></code>
modules and functions.</p>
</div>
</div>
<div class="section" id="specifc-recipes">
<h2>Specifc recipes<a class="headerlink" href="#specifc-recipes" title="Permalink to this headline">¶</a></h2>
<div class="section" id="demo">
<h3>demo<a class="headerlink" href="#demo" title="Permalink to this headline">¶</a></h3>
<p>Illustrates many of the core <code class="docutils literal notranslate"><span class="pre">dvas</span></code> tools and how to use them. This is a good starting point for
users interested to modify existing recipes, or create their own.</p>
</div>
<div class="section" id="uaii22">
<h3>uaii22<a class="headerlink" href="#uaii22" title="Permalink to this headline">¶</a></h3>
<p>Performs the official UAII 2022 analysis for the field campaign data.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="creating_recipes.html" class="btn btn-neutral float-right" title="Creating dvas recipes" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="installation.html" class="btn btn-neutral float-left" title="Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020-2021, MeteoSwiss.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>